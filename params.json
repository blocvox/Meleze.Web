{"name":"Meleze.web","tagline":"Remove whitespace in ASP.NET Razor views","body":"Meleze.Web is a plugin for ASP.NET Razor that removes all the whitespace in .cshtml views.\r\n\r\nFor example, a view like:\r\n```html\r\n<ul>\r\n  <li>Item1</li>\r\n  <li>@variable</li>\r\n</ul>\r\n```\r\nis recompiled as:\r\n```html\r\n<ul><li>Item1><li>@variable</li></ul>\r\n```\r\n\r\nMeleze.Web minifies the HTML markup and also the inlined CSS and Javascript elements when System.Web.Optimization or the Microsoft Minifier DLLs are loaded in the application.\r\n\r\n## Why is it better than a ASP.NET MVC view filter?\r\nWith a view filter, the minification would be performed each time the view is rendered. It means the filter adds a little cost to each HTTP request.\r\nMeleze.Web runs at COMPILE time. The views are minified only one time when Razor compiles the view. There is no minification cost when the view is rendered. It is even the opposite as the CPU has less characters to write.\r\nWhen minifying at compile time, you reduce the bandwidth usage and also the used CPU (arround 15% in my web applications).\r\n\r\n## Installation\r\nTo use the HTML Minification for Razor, you have to change your Views/Web.config to replace the default ASP.NET MVC factory by the Meleze's one:\r\n\r\n```xml\r\n<configuration>\r\n  <system.web.webPages.razor>\r\n    <host factoryType=\"Meleze.Web.Razor.MinifyHtmlWebRazorHostFactory, Meleze.Web, Version=1.4.0.5, Culture=neutral, PublicKeyToken=0a868b5321967eda\" />\r\n  </system.web.webPages.razor>\r\n</configuration>\r\n```\r\n\r\nFor ASP.NET MVC 3.0, use the 1.3 version of Meleze:\r\n```xml\r\n    <host factoryType=\"Meleze.Web.Razor.MinifyHtmlWebRazorHostFactory, Meleze.Web, Version=1.3.0.5, Culture=neutral, PublicKeyToken=0a868b5321967eda\" />\r\n```\r\n\r\nThere are two versions of the DLL: one for ASP.NET MVC3 and another for ASP.NET MVC4. Make sure to use the correct version (it is displayed in the DLL description).\r\n\r\n\r\nMaking this change in the Web.config may break Intelliscense in Visual Studio if it does not find the Meleze.Web dll.\r\n\r\nThere are two solutions:\r\n\r\n1. You can setup the factory in Web.config.Release instead of the Web.config. The minification will be enabled only in release build.\r\n2. Otherwize, you can register the Meleze.Web dll in the GAC using \"gacutil.exe -i Meleze.Web\". The minification will work even in design mode.\r\n\r\nThe Minifier behavior can be configured in the application's root Web.config with some appSettings keys:\r\n```xml\r\n<appSettings>\r\n  <add key=\"meleze-minifier:Aggressive\" value=\"true\"/>\r\n  <add key=\"meleze-minifier:Comments\" value=\"true\"/>\r\n  <add key=\"meleze-minifier:Javascript\" value=\"true\"/>\r\n  <add key=\"meleze-minifier:CSS\" value=\"true\"/>\r\n</appSettings>\r\n```\r\n\r\nmeleze-minifier:Aggressive removes as much whitespace as possible. In some cases, you may have to change yours CSS to fix the page layout (as whitespace is not interpreted in a compatible way by all browsers).\r\nmeleze-minifier:Comments removes all the HTML comments that are neither Javascript code or conditional comments.\r\nmeleze-minifier:Javascript calls the Microsoft Ajax Minifier. The AjaxMin.dll must be in the application references for this option to work (otherwise, JS is kept as is).\r\nmeleze-minifier:CSS also calls the Microsoft Ajax Minifier to minimize the inline styles.\r\n\r\nThere is also a NuGet package to setup the Minifier automatically in your applications.\r\n\r\n## Release Notes\r\n- 1.4.6 and 1.3.6 (11/11/2013)\r\n    - Fix integration with Microsoft AjaxMin (from SoonDead)\r\n    - Fix minification of URL starting with ~/\r\n\r\n- 1.4.5 and 1.3.5 (10/11/2013)\r\n    - Fix integration with System.Web.Optimization\r\n    - Add minification of the Razor sections\r\n\r\n- 1.4.4 and 1.3.4 (30/08/2013)\r\n    - Fix bugs with the detection of Javascript // comments.\r\n    - Minify the inline JS and CSS with the System.Web.Optimization if it is available.\r\n\r\n- 1.4.3 and 1.3.3 (4/24/2012)\r\n    - Fix bug when inline Javascript contains // comments and that the Javascript minifier is not enabled.\r\n    - Minify the inline CSS with the Microsoft Ajax Minifier (like for the inline Javascript).","google":"UA-22166712-1","note":"Don't delete this file! It's used internally to help with page regeneration."}