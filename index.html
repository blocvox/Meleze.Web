<!DOCTYPE html>
<html>

  <head>
    <meta charset='utf-8' />
    <meta http-equiv="X-UA-Compatible" content="chrome=1" />
    <meta name="description" content="Meleze.web : Remove whitespace in ASP.NET Razor views" />

    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">

    <title>Meleze.web</title>
  </head>

  <body>

    <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">
          <a id="forkme_banner" href="https://github.com/meleze/Meleze.Web">View on GitHub</a>

          <h1 id="project_title">Meleze.web</h1>
          <h2 id="project_tagline">Remove whitespace in ASP.NET Razor views</h2>

            <section id="downloads">
              <a class="zip_download_link" href="https://github.com/meleze/Meleze.Web/zipball/master">Download this project as a .zip file</a>
              <a class="tar_download_link" href="https://github.com/meleze/Meleze.Web/tarball/master">Download this project as a tar.gz file</a>
            </section>
        </header>
    </div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">
        <p>Meleze.Web is a plugin for ASP.NET Razor that removes all the whitespace in .cshtml views.</p>

<p>For example, a view like:</p>

<ul>
<li>Item1</li>
  <li><a href="https://github.com/variable" class="user-mention">@variable</a></li>
</ul><p>is recompiled as:</p>

<ul>
<li>Item1&gt;</li>
<li><a href="https://github.com/variable" class="user-mention">@variable</a></li>
</ul><p>Meleze.Web minifies the HTML markup and also the inlined CSS and Javascript elements when System.Web.Optimization or the Microsoft Minifier DLLs are loaded in the application.</p>

<p>Why is it better than a ASP.NET MVC view filter?
With a view filter, the minification would be performed each time the view is rendered. It means the filter adds a little cost to each HTTP request.
Meleze.Web runs at COMPILE time. The views are minified only one time when Razor compiles the view. There is no minification cost when the view is rendered. It is even the opposite as the CPU has less characters to write.
When minifying at compile time, you reduce the bandwidth usage and also the used CPU (arround 15% in my web applications).</p>

<p>To use the HTML Minification for Razor, you have to change your Views/Web.config to replace the default ASP.NET MVC factory by the Meleze's one:</p>

<p></p>

<p>For ASP.NET MVC 3.0, use the 1.3 version of Meleze:
    </p>

<p>There are two versions of the DLL: one for ASP.NET MVC3 and another for ASP.NET MVC4. Make sur to use the correct version (it is displayed in the DLL description).</p>

<p>Making this change in the Web.config may break Intelliscense in Visual Studio if it does not find the Meleze.Web dll.
There are two solutions:
1) You can setup the factory in Web.config.Release instead of the Web.config. The minification will be enabled only in release build.
2) Otherwize, you can register the Meleze.Web dll in the GAC using "gacutil.exe -i Meleze.Web". The minification will work even in design mode.</p>

<p>The Minifier behavior can be configured in the application's root Web.config with some appSettings keys:</p>

<p></p>

<p>meleze-minifier:Aggressive removes as much whitespace as possible. In some cases, you may have to change yours CSS to fix the page layout (as whitespace is not interpreted in a compatible way by all browsers).
meleze-minifier:Comments removes all the HTML comments that are neither Javascript code or conditional comments.
meleze-minifier:Javascript calls the Microsoft Ajax Minifier. The AjaxMin.dll must be in the application references for this option to work (otherwise, JS is kept as is).
meleze-minifier:CSS also calls the Microsoft Ajax Minifier to minimize the inline styles.</p>

<p>There is also a NuGet package to setup the Minifier automatically in your applications.</p>

<h2>
<a name="release-notes" class="anchor" href="#release-notes"><span class="octicon octicon-link"></span></a>Release Notes</h2>

<ul>
<li>
<p>1.4.6 and 1.3.6 (11/11/2013)</p>

<ul>
<li>Fix integration with Microsoft AjaxMin (from SoonDead)</li>
<li>Fix minification of URL starting with ~/</li>
</ul>
</li>
<li>
<p>1.4.5 and 1.3.5 (10/11/2013)</p>

<ul>
<li>Fix integration with System.Web.Optimization</li>
<li>Add minification of the Razor sections</li>
</ul>
</li>
<li>
<p>1.4.4 and 1.3.4 (30/08/2013)</p>

<ul>
<li>Fix bugs with the detection of Javascript // comments.</li>
<li>Minify the inline JS and CSS with the System.Web.Optimization if it is available.</li>
</ul>
</li>
<li>
<p>1.4.3 and 1.3.3 (4/24/2012)</p>

<ul>
<li>Fix bug when inline Javascript contains // comments and that the Javascript minifier is not enabled.</li>
<li>Minify the inline CSS with the Microsoft Ajax Minifier (like for the inline Javascript).</li>
</ul>
</li>
</ul>
      </section>
    </div>

    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        <p class="copyright">Meleze.web maintained by <a href="https://github.com/meleze">meleze</a></p>
        <p>Published with <a href="http://pages.github.com">GitHub Pages</a></p>
      </footer>
    </div>

              <script type="text/javascript">
            var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
            document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
          </script>
          <script type="text/javascript">
            try {
              var pageTracker = _gat._getTracker("UA-22166712-1");
            pageTracker._trackPageview();
            } catch(err) {}
          </script>


  </body>
</html>
